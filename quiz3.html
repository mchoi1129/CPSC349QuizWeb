<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Quiz Project</title>
    <style>
        body{
            background: rgb(12, 7, 43);
        }
        .container{
            background-color: rgb(124, 150, 215);
            width: 90%;
            max-width: 600px;
            margin: 100px auto 0;
            border-radius: 5px;
            padding: 30px;
        }
        h1{
            font-size: 25px;
            color: white;
            font-weight: 600;
            border-bottom: 2px solid black;
            padding-bottom: 30px;
            text-align: center;
            position: static;
        }
        .btn{
            background: white;
            color: black;
            font-weight: 500;
            width: 100%;
            border: 1px solid black;
            padding: 10px;
            margin: 10px 0;
            text-align: left;
            border-radius: 4px;
        }
        .btn:hover{
            background-color: rgb(76, 183, 228);
            cursor: pointer;
        }
        .btn.clicked {
            background-color: #1e208c;
            color: white;
        }
        #submit{
            background: white;
            color: black;
            font-weight: 500;
            width: 150px;
            border: 0;
            border-radius: 4px;
            padding: 10px;
            margin: 20px auto 0;
            cursor: pointer;
            display: block;
        }
        #submit:active{
            background-color: #1e208c;
            color: white;
        }
        #reset{
            background: #1e208c;
            color: white;
            font-weight: 500;
            width: 100px;
            border: 0;
            border-radius: 4px;
            padding: 10px;
        }
        #reset:active{
            background-color: rgb(76, 183, 228);
        }
        .correct-answer {
            background-color: #8bc34a; /* Change color to your preference */
            color: white; /* Change text color to your preference */
            font-weight: bold; /* Optionally make the text bold */
        }
        .icon {
           color: white;
            font-size: 30px;
            position: fixed;
            margin-top: 0;
            padding-top: 0;
            top: 10px;
            left: 15px;
            
        }
        .icon:hover {
            color: rgb(76, 183, 228);
        }   
    </style>
</head>
<body>
    <a class="icon" href="QuizMainPage.html">
        <i class="bi bi-arrow-left" ></i>
    </a>
    <div class="container">
        <h1>Quiz</h1>
        <div>
            <div id="quizContainer"></div>
            <button type="checkbox" id="submit">Submit Quiz</button>
            <button id="reset">Reset</button>
            <div id="result"></div>
        </div>
    </div>
    <script>
        // quiz array
        const questions = [
            {
                question: "How do you create a table in HTML?",
                answers: [
                    { text: "<table><td>Cell 1</td></table>", correct: false },
                    { text: "<table><tr><td>Cell 1</td></tr></table>", correct: true },
                    { text: "<table><th>Cell 1</th></table>", correct: false },
                    { text: "<table><tr><th>Cell 1</th></tr></table>", correct: false },
                ]
            },
            {
                question: "What is the correct HTML for making a text area?",
                answers: [
                    { text: "<input type=\"textarea\">", correct: false },
                    { text: "<input type=\"area\">", correct: false },
                    { text: "<textarea>", correct: true },
                    { text: "<input type=\"textbox\">", correct: false },
                ]
            },
            {
                question: "Which operator is used to check the data type of a variable in javascript?",
                answers: [
                    { text: "comparision operator", correct: false },
                    { text: "typeof operator ", correct: true },
                    { text: "datatype operator", correct: false },
                    { text: "instanceof operator", correct: false },
                ]
            },
            {
                question: "Where in an HTML document is the correct place to refer to an external style sheet?",
                answers: [
                    { text: "In the <head> section", correct: true },
                    { text: "In the <div> tag", correct: false },
                    { text: "At the end of the document", correct: false },
                    { text: "In the <body> section", correct: false },
                ]
            },
            {
                question: "Choose the correct HTML element to define emphasized text",
                answers: [
                    { text: " `<background>color</background>` ", correct: false },
                    { text: ' `<body style="background-color:#FFFFFF;">` ', correct: false },
                    { text: '`<body background="color">`', correct: true },
                    { text: '`<body background="color">` "', correct: false },
                ]
            },
            {
                question: "Which attribute is used with the `<img>` tag to display an image stored at a specific URL",
                answers: [
                    { text: "<em>", correct: true },
                    { text: "<div>", correct: false },
                    { text: "<italic>", correct: false },
                    { text: "<i>", correct: false },
                ]
            },
            {
                question: "What is the default value of the position property?",
                answers: [
                    { text: "relative", correct: false },
                    { text: "fixed", correct: false },
                    { text: "absolute", correct: false },
                    { text: "static", correct: true },
                ]
            },
            {
                question: "Choose the correct HTML element for the largest heading:",
                answers: [
                    { text: "<head>", correct: false },
                    { text: "<h1>", correct: true },
                    { text: "<h6> ", correct: false },
                    { text: "<heading>", correct: false },
                ]
            },
            {
                question: "How do you specify the duration of an animation in CSS?",
                answers: [
                    { text: "duration", correct: false },
                    { text: "animation-time", correct: false },
                    { text: "animation-duration", correct: true },
                    { text: "animation-length", correct: false },
                ]
            },
            {
                question: "How does a FOR loop start?",
                answers: [
                    { text: "for (i = 0; i <= 5; i++)", correct: true },
                    { text: "for (i = 0; i <= 5)", correct: false },
                    { text: "for (i <= 5; i++)", correct: false },
                    { text: "for i = 1 to 5", correct: false },
                ]
            }
        ];

        // html elements
        const quizContainer = document.getElementById("quizContainer");
        const submitButton = document.getElementById("submit");
        const resultDisplay = document.getElementById("result");
        const resetScoreButton = document.getElementById("reset");
        
        let score = 0;

        function displayQuizzes() {
            questions.forEach((quiz, index) => {
                // creates container for each quiz
                const quizElement = document.createElement("div");
                quizElement.classList.add("quiz");

                // display the questions from the array with index number
                const questionElement = document.createElement("h2");
                questionElement.textContent = `${index + 1}. ${quiz.question}`;

                // display answer buttons
                const answerButtons = document.createElement("div");
                answerButtons.classList.add("answerButtons");

                // create buttons from the array answers
                quiz.answers.forEach(answer => {
                    const button = document.createElement("button");
                    button.textContent = answer.text;
                    button.classList.add("btn");
                    button.dataset.correct = answer.correct;
                    button.addEventListener("click", () => handleAnswerClick(button, quiz));
                    answerButtons.appendChild(button);
                });

                // group the question with associated answer buttons
                quizElement.appendChild(questionElement);
                quizElement.appendChild(answerButtons);

                // append the quizzes in the container
                quizContainer.appendChild(quizElement);
            });
        }

        function handleAnswerClick(button, quiz) {
            // true state when the correct answer is clicked
            const isCorrect = button.dataset.correct === "true";

            // Set on and off the clicked state of the button
            if (button.classList.contains("clicked")) {
                button.classList.remove("clicked");
                quiz.answeredCorrectly = false;
            } else {
                // Reset previously clicked buttons for this question
                const quizItem = button.closest(".quiz");
                const answerButtons = quizItem.querySelectorAll(".answerButtons button");
                answerButtons.forEach(btn => {
                    btn.classList.remove("clicked");
                    btn.disabled = false;
                });

                // Mark the current button as clicked
                button.classList.add("clicked");

                // Set the correct state based on the currect answer clicked
                quiz.answeredCorrectly = isCorrect;
            }
        }

        function showResult() {
            // Calculate the score
            score = questions.filter(quiz => quiz.answeredCorrectly).length;

            // Display the score
            resultDisplay.textContent = `Your score: ${score}/${questions.length}`;

            // Highlight correct answers
            const allButtons = document.querySelectorAll('.btn');
            allButtons.forEach(button => {
                if (button.dataset.correct === 'true') {
                button.classList.add('correct-answer');
                }
            });

            // Show congratulatory message if score is 10
                if (score === 10) {
                   showCongratsMessage();
              }
        }
        function showCongratsMessage() {
            // Display Congrats Message
                alert("Congratulations! You got 10/10. Well done!");
}
        

        displayQuizzes();
        submitButton.addEventListener("click", () => {
            showResult();
            submitButton.classList.add("clicked");
        });

        resetScoreButton.addEventListener("click", () => {
            score = 0;
            resultDisplay.textContent = '';

            // Reset the answered Correctly property of each question to false
            questions.forEach(quiz => {
                quiz.answeredCorrectly = false;
            });
            
            // Reset the clicked buttons
            const answerButtons = document.querySelectorAll(".answerButtons button");            
            answerButtons.forEach(button => {
                button.classList.remove("clicked");
                button.disabled = false;
                button.classList.remove('correct-answer')
            });
        })

    </script>
</body>
</html>
